# üöÄ Instrucciones de Instalaci√≥n y Ejecuci√≥n

## üì¶ Archivos Creados

### Frontend (React)
```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TransferenciaExamenesPage.jsx  ‚úÖ P√°gina principal
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ExamenModal.jsx                ‚úÖ Modal para crear/editar
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ConfirmDialog.jsx              ‚úÖ Di√°logo de confirmaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useExamenes.js                 ‚úÖ Hook personalizado
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ examenes.js                    ‚úÖ Servicios API
‚îÇ   ‚îî‚îÄ‚îÄ App.js                             ‚úÖ Actualizado con routing
‚îú‚îÄ‚îÄ package.json                           ‚úÖ Actualizado con dependencias
‚îî‚îÄ‚îÄ TRANSFERENCIA_EXAMENES_README.md       ‚úÖ Documentaci√≥n
```

## üîß Paso 1: Instalar Dependencias

Abre una terminal y ejecuta:

```bash
cd /Users/styp/Documents/CENATE/Chatbot/API_Springboot/cenate/frontend
npm install
```

Esto instalar√° las nuevas dependencias:
- `react-router-dom@^6.28.0` - Para el routing
- `lucide-react@^0.263.1` - Para los iconos

## üñ•Ô∏è Paso 2: Ejecutar en Desarrollo

### Opci√≥n A: Sin Docker (Desarrollo local)

```bash
# Aseg√∫rate de estar en el directorio frontend
cd /Users/styp/Documents/CENATE/Chatbot/API_Springboot/cenate/frontend

# Iniciar el servidor de desarrollo
npm start
```

La aplicaci√≥n se abrir√° autom√°ticamente en `http://localhost:3000`

### Opci√≥n B: Con Docker (Producci√≥n)

```bash
# Volver al directorio ra√≠z del proyecto
cd /Users/styp/Documents/CENATE/Chatbot/API_Springboot/cenate

# Reconstruir solo el frontend
docker-compose build --no-cache frontend

# Levantar todos los servicios
docker-compose up -d

# Verificar que los contenedores est√©n corriendo
docker ps
```

La aplicaci√≥n estar√° disponible en:
- Frontend: `http://localhost`
- Backend: `http://localhost:8080`

## üåê Paso 3: Navegar a las P√°ginas

Una vez que la aplicaci√≥n est√© corriendo, ver√°s un men√∫ de navegaci√≥n en la parte superior con dos opciones:

1. **Pacientes** - `/` (p√°gina existente)
2. **Transferencia de Ex√°menes** - `/transferencia-examenes` (nueva p√°gina)

## ‚úÖ Verificar que Todo Funciona

### En la p√°gina de Transferencia de Ex√°menes deber√≠as poder:

1. ‚úÖ Ver los logos de EsSalud y CENATE en el header
2. ‚úÖ Ver el campo IPRESS deshabilitado con el valor por defecto
3. ‚úÖ Seleccionar Modalidad de Atenci√≥n, Nivel de Atenci√≥n y Tipo de Examen
4. ‚úÖ Ver una tabla con 7 ex√°menes de ejemplo
5. ‚úÖ Buscar ex√°menes por nombre o c√≥digo
6. ‚úÖ Hacer clic en el bot√≥n "NUEVO" para abrir el modal
7. ‚úÖ Hacer clic en el icono de editar (l√°piz) para editar un examen
8. ‚úÖ Hacer clic en el icono de eliminar (basura) para eliminar un examen
9. ‚úÖ Ver badges de color verde para "Activo" y rojo para "Inactivo"

## üìù Funcionalidades Actuales (Mock Data)

### ‚úÖ Implementado:
- Interfaz completa seg√∫n el dise√±o UI/UX
- Modal para crear/editar ex√°menes
- Di√°logo de confirmaci√≥n para eliminar
- B√∫squeda por nombre y c√≥digo (filtrado local)
- Estados visuales (Activo/Inactivo)
- Responsive design
- Navegaci√≥n entre p√°ginas

### ‚è≥ Pendiente (Requiere Backend):
- Conexi√≥n real con la API
- Paginaci√≥n desde el servidor
- Persistencia de datos
- Validaciones del servidor
- Manejo de errores del servidor

## üîå Paso 4: Conectar con el Backend (Pr√≥ximo)

Para conectar con el backend real, necesitar√°s:

### 1. Crear las entidades Java:

```java
// backend/src/main/java/styp/com/cenate/model/Examen.java
@Entity
@Table(name = "examenes")
public class Examen {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private String codigo;
    private String nombre;
    private String estado;
    private String ipressTransferencia;
    private String modalidadAtencion;
    private String nivelAtencion;
    private String tipoExamen;
    
    // Getters y Setters
}
```

### 2. Crear el repositorio:

```java
// backend/src/main/java/styp/com/cenate/repository/ExamenRepository.java
public interface ExamenRepository extends JpaRepository<Examen, Long> {
    Page<Examen> findByNombreContainingIgnoreCase(String nombre, Pageable pageable);
    Page<Examen> findByCodigo(String codigo, Pageable pageable);
}
```

### 3. Crear el controlador:

```java
// backend/src/main/java/styp/com/cenate/api/ExamenController.java
@RestController
@RequestMapping("/api/examenes")
@CrossOrigin(origins = "*")
public class ExamenController {
    
    @Autowired
    private ExamenRepository examenRepository;
    
    @GetMapping
    public Page<Examen> getExamenes(
        @RequestParam(defaultValue = "0") int page,
        @RequestParam(defaultValue = "10") int size
    ) {
        return examenRepository.findAll(PageRequest.of(page, size));
    }
    
    @GetMapping("/buscar")
    public Page<Examen> buscarExamenes(
        @RequestParam(required = false) String nombre,
        @RequestParam(required = false) String codigo,
        @RequestParam(defaultValue = "0") int page,
        @RequestParam(defaultValue = "10") int size
    ) {
        // Implementar l√≥gica de b√∫squeda
    }
    
    @PostMapping
    public Examen createExamen(@RequestBody Examen examen) {
        return examenRepository.save(examen);
    }
    
    @PutMapping("/{id}")
    public Examen updateExamen(@PathVariable Long id, @RequestBody Examen examen) {
        examen.setId(id);
        return examenRepository.save(examen);
    }
    
    @DeleteMapping("/{id}")
    public ResponseEntity<?> deleteExamen(@PathVariable Long id) {
        examenRepository.deleteById(id);
        return ResponseEntity.ok().build();
    }
}
```

### 4. Actualizar el frontend:

En `TransferenciaExamenesPage.jsx`, descomentar las l√≠neas:

```javascript
// Descomentar estas l√≠neas:
import useExamenes from '../hooks/useExamenes';

const {
  examenes,
  loading,
  error,
  searchExamenes,
  createExamen,
  updateExamen,
  deleteExamen
} = useExamenes();

// Y comentar el mock data
```

### 5. Crear la tabla en PostgreSQL:

```sql
CREATE TABLE examenes (
    id SERIAL PRIMARY KEY,
    codigo VARCHAR(50) NOT NULL,
    nombre VARCHAR(500) NOT NULL,
    estado VARCHAR(20) DEFAULT 'Activo',
    ipress_transferencia VARCHAR(200),
    modalidad_atencion VARCHAR(50),
    nivel_atencion VARCHAR(50),
    tipo_examen VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Insertar datos de ejemplo
INSERT INTO examenes (codigo, nombre, estado, ipress_transferencia, modalidad_atencion, nivel_atencion, tipo_examen)
VALUES 
('87220', 'KOH - EXAMEN DE TEJIDOS PARA HONGOS', 'Activo', 'H.N. ALBERTO SABOGAL SOLOGUREN', 'Ambulatorio', 'Nivel III', 'Especializado'),
('87220', 'ESTUDIOS DE SENSIBILIDAD A ANTIBIOTICOS; METODO DE DISCO, POR PLACA', 'Activo', 'NINGUNA', 'Ambulatorio', 'Nivel II', 'Rutina');
```

## üêõ Soluci√≥n de Problemas

### Error: "Module not found: react-router-dom"
```bash
npm install react-router-dom@^6.28.0
```

### Error: "Module not found: lucide-react"
```bash
npm install lucide-react@^0.263.1
```

### Los logos no se muestran
Verifica que los archivos est√©n en:
- `/Users/styp/Documents/CENATE/Chatbot/API_Springboot/cenate/frontend/public/images/Logo ESSALUD Azul.png`
- `/Users/styp/Documents/CENATE/Chatbot/API_Springboot/cenate/frontend/public/images/Logo CENATE Azul.png`

### Docker no reconstruye
```bash
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

## üìö Documentaci√≥n Adicional

- React Router: https://reactrouter.com/
- Lucide React Icons: https://lucide.dev/
- Tailwind CSS: https://tailwindcss.com/

## üéâ ¬°Listo!

Tu p√°gina de Transferencia de Ex√°menes est√° ahora completamente funcional con datos de ejemplo (mock data). Una vez que conectes el backend, tendr√°s un sistema completo de gesti√≥n de ex√°menes de laboratorio.

---

**√öltima actualizaci√≥n:** 08/10/2025  
**Estado:** ‚úÖ Frontend completo - ‚è≥ Backend pendiente
