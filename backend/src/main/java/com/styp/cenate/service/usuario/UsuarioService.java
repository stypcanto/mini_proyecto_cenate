package com.styp.cenate.service.usuario;

import com.styp.cenate.dto.UsuarioCreateRequest;
import com.styp.cenate.dto.UsuarioResponse;
import com.styp.cenate.dto.UsuarioUpdateRequest;

import java.util.List;
import java.util.Map;

/**
 * üß© Servicio para la gesti√≥n de usuarios en el sistema CENATE.
 * Capa intermedia entre el controlador y el repositorio.
 */
public interface UsuarioService {

    // ============================================================
    // üîπ Consultas generales
    // ============================================================
    List<UsuarioResponse> getAllUsers();
    UsuarioResponse getUserById(Long id);
    UsuarioResponse getUserByUsername(String username);
    UsuarioResponse obtenerDetalleUsuarioExtendido(String username);

    // ============================================================
    // ‚öôÔ∏è Gesti√≥n de usuarios
    // ============================================================
    UsuarioResponse createUser(UsuarioCreateRequest request);
    UsuarioResponse updateUser(Long id, UsuarioUpdateRequest request);
    void deleteUser(Long id);

    // ============================================================
    // üîê Control de estado
    // ============================================================
    UsuarioResponse activateUser(Long id);
    UsuarioResponse deactivateUser(Long id);
    UsuarioResponse unlockUser(Long id);

    // ============================================================
    // üîç Consultas avanzadas
    // ============================================================
    List<Map<String, Object>> obtenerDetalleUsuario(String username);

    // ============================================================
    // üß≠ Filtros por roles
    // ============================================================
    List<UsuarioResponse> getUsuariosByRoles(List<String> roles);
    List<UsuarioResponse> getUsuariosExcluyendoRoles(List<String> roles);

    /**
     * üîπ Retorna los nombres de roles asociados al usuario autenticado.
     */
    List<String> getRolesByUsername(String username);
}