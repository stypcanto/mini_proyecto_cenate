package com.styp.cenate.service.mbac;

import com.styp.cenate.dto.mbac.*;

import java.util.List;

/**
 * ðŸ§© Servicio MBAC â€“ GestiÃ³n de permisos, mÃ³dulos y pÃ¡ginas por usuario.
 *
 * Define la interfaz del sistema de control de accesos modular (MBAC) para:
 *   - Consultar permisos y mÃ³dulos accesibles por usuario.
 *   - Verificar permisos por ruta y acciÃ³n.
 *   - Validar acceso en base a roles y pÃ¡ginas.
 */
public interface PermisosService {

    // ============================================================
    // ðŸ”¹ Consultas principales
    List<PermisoUsuarioResponseDTO> obtenerPermisosPorUsuario(Long idUser);
    List<PermisoUsuarioResponseDTO> obtenerPermisosPorUsername(String username);
    List<PermisoUsuarioResponseDTO> obtenerPermisosPorUsuarioYModulo(Long idUser, Long idModulo);

    // ============================================================
    // ðŸ”¹ VerificaciÃ³n y validaciÃ³n
    CheckPermisoResponseDTO verificarPermiso(CheckPermisoRequestDTO request);

    boolean tienePermiso(Long idUser, String rutaPagina, String accion);
    boolean validarPermiso(Long idUser, String rutaPagina, String accion);

    // ============================================================
    // ðŸ”¹ Accesos por mÃ³dulos y pÃ¡ginas
    List<ModuloSistemaResponse> obtenerModulosAccesiblesUsuario(Long idUser);
    List<PaginaModuloResponse> obtenerPaginasAccesiblesUsuario(Long idUser, Long idModulo);

    // ============================================================
    // ðŸ”¹ Utilitario
    Long obtenerUserIdPorUsername(String username);
}