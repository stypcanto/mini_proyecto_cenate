package styp.com.cenate.repository;

import styp.com.cenate.model.Rol;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;
import java.util.Optional;

/**
 * Repositorio para la entidad Rol.
 *
 * ðŸ“˜ Esta interfaz extiende JpaRepository, lo que te brinda:
 *  - MÃ©todos CRUD automÃ¡ticos (save, findById, findAll, delete, etc.)
 *  - Soporte para consultas personalizadas usando convenciones de nombre (Derived Queries)
 *
 * ðŸ“¦ JpaRepository<Rol, Integer>:
 *  - Rol â†’ la entidad que se gestiona.
 *  - Integer â†’ el tipo de dato del ID principal (segÃºn tu entidad Rol).
 */
@Repository
public interface RolRepository extends JpaRepository<Rol, Integer> {

    /**
     * Busca un rol por su descripciÃ³n.
     * Ejemplo: findByDescRol("ADMIN") â†’ devuelve un Optional<Rol> si existe.
     *
     * @param descRol descripciÃ³n del rol (columna desc_rol en la tabla).
     * @return Optional con el Rol encontrado o vacÃ­o si no existe.
     */
    Optional<Rol> findByDescRol(String descRol);

    /**
     * Verifica si ya existe un rol con una descripciÃ³n determinada.
     * Muy Ãºtil para evitar duplicados antes de crear un nuevo rol.
     *
     * @param descRol descripciÃ³n del rol.
     * @return true si ya existe, false si no.
     */
    boolean existsByDescRol(String descRol);
}
