# ============================================================
# CONFIGURACIÓN DE PRODUCCIÓN - CENATE
# ============================================================
# Usar: java -jar app.jar --spring.profiles.active=prod
# O: ./gradlew bootRun --args='--spring.profiles.active=prod'

# ============================================================
# SEC-004: CORS - Solo origenes de produccion
# ============================================================
cors.allowed-origins=http://10.0.89.241,http://10.0.89.241:80,http://10.0.89.239,http://10.0.89.239:80

# ============================================================
# SEC-008: Deshabilitar SQL logging en produccion
# ============================================================
spring.jpa.show-sql=false
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# ============================================================
# SEC-009: Deshabilitar Swagger en produccion
# ============================================================
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false

# ============================================================
# TOMCAT SERVLET THREADS PRODUCCIÓN
# ============================================================
# ✅ v1.37.3 - Optimizado para 100 usuarios concurrentes
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=20
server.tomcat.accept-count=100
server.tomcat.max-connections=200
server.tomcat.connection-timeout=60000

# ============================================================
# HIKARI - POOL DE CONEXIONES PRODUCCIÓN
# ============================================================
# ✅ v1.37.3 - Optimizado para 100 usuarios concurrentes
spring.datasource.hikari.maximum-pool-size=100
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.data-source-properties.preparedStatementCacheSize=250
spring.datasource.hikari.data-source-properties.preparedStatementCacheSqlLimit=2048
spring.datasource.hikari.data-source-properties.cachePreparedStatements=true

# ============================================================
# HIBERNATE OPTIMIZACIONES PRODUCCIÓN
# ============================================================
# ✅ v1.37.3 - Batch processing y caching para mejor rendimiento
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.fetch_size=50
spring.jpa.properties.hibernate.cache.use_second_level_cache=true
spring.jpa.properties.hibernate.cache.use_query_cache=true

# ============================================================
# COMPRESIÓN HTTP Y CACHING PRODUCCIÓN
# ============================================================
# ✅ v1.37.3 - Compresión gzip y browser caching
server.compression.enabled=true
server.compression.min-response-size=1024
server.compression.mime-types=text/html,text/xml,text/plain,text/css,application/javascript,application/json

# ============================================================
# Logging de produccion
# ============================================================
logging.level.root=WARN
logging.level.com.styp.cenate=INFO
logging.level.com.zaxxer.hikari=WARN
logging.level.org.springframework=WARN
server.error.include-stacktrace=never
